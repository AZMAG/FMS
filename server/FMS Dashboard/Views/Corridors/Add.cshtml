@using FMS_Dashboard.Models;
@{
    ViewBag.Title = "AddCorridor";
}

<link href="~/Styles/AddCorridor.css" rel="stylesheet" />
<link href="~/Styles/Main.css" rel="stylesheet" />
<script src="https://js.arcgis.com/4.15/"></script>
<script src="~/Scripts/map.js"></script>
<script src="~/Scripts/addCorridor.js"></script>

<div class="black-banner">
    <span>Add Corridor</span>
</div>
<div id="addCorridor-container">
    <form id="corridorForm" class="needs-validation" novalidate>
        <div class="form-group">
            <label for="corridorName">Corridor Name</label><span class="redAsterisk">*</span>
            <input type="text" required class="form-control" id="corridorName" placeholder="Corridor Name">
            <div class="invalid-feedback">
                Please enter a name for the corridor.
            </div>
        </div>
        <div class="form-group">
            <label for="corridorDescription">Corridor Description</label><span class="redAsterisk">*</span>
            <textarea required class="form-control" id="corridorDescription" rows="3"></textarea>
            <div class="invalid-feedback">
                Please enter a description for the corridor.
            </div>
        </div>
        <label>Selected Detectors:</label><span id="detCnt">0</span>
        <br />
        <div id="detectorsGrid"></div>
        <div id="gridInvalid" class="invalid-feedback">
            You must select at least 2 detectors to form a corridor.
        </div>
        <button id="analyzeCorridorBtn" class="btn btn-success">Analyze Corridor</button>
        <button id="addCorridorSubmitBtn" type="submit" disabled class="btn btn-primary">Submit</button>
    </form>
    <div id="viewDiv"></div>
</div>
<div id="analyzeCorridorModal" class="modal fade" tabindex="-1" role="dialog">
    <div class="modal-dialog modal-xl" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
            </div>
            <div class="modal-body">
                <div style="width: 100%; height: 600px;" id="validityChart"></div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary">Submit</button>
            </div>
        </div>
    </div>
</div>
<div id="select-by-polygon" class="esri-widget esri-widget--button esri-widget esri-interactive" title="Select detectors by polygon">
    <span class="esri-icon-checkbox-unchecked"></span>
</div>

<div class="successMessage alert alert-success" role="alert">
    Your corridor has been added successfully.
</div>